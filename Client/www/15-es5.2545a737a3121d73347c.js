(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{W9vR:function(l,n,e){"use strict";e.r(n);var t=e("CcnG"),o=function(){return function(){}}(),u=e("pMnS"),i=e("oBZk"),a=e("ZZ/e"),r=e("gIcY"),d=e("Ip0R"),s=e("mrSG"),c=e("2WpN"),g=e("oZWX"),f=e("UnBL"),h=function(){function l(l,n,e,t,o,u){this.storage=l,this.httpClient=n,this.alertController=e,this.apiService=t,this.loadingCtrl=o,this.evManager=u,this.isLoading=!1,this.progress={value:0,index:1,length:0,status:""},this.files_=[],this.files=[],this.exampleFile={file:{path:"./test/path",fileName:"Filetest.pdf",data:null},name:"Filetest",isDownloadable:!0,imgSrc:"https://images-na.ssl-images-amazon.com/images/I/417Y8qz6oXL.png",imgHeight:300},this.sources={name:"SOURCES",data:[]}}return l.prototype.ionViewWillEnter=function(){this.loadData()},l.prototype.ngOnInit=function(){},l.prototype.loadData=function(){var l=this;this.storage.get("depth").then(function(n){l.depth=n,l.storage.get("urlData").then(function(n){null!=n&&n.length>0&&l.createList(n[0])})})},l.prototype.createList=function(l){this.files=[];for(var n=0;n<l.length;n++)this.files.push(this.constructFileObj(l[n]))},l.prototype.constructFileObj=function(l){return{category:l["Categor\xeda"]?l["Categor\xeda"]:l.Categoria?l.Categoria:l["categor\xeda"]?l["categor\xeda"]:l.categoria?l.categoria:"",name:l.Fondo+" "+l.Entidad,url:l.Url?l.Url:l.url?l.url:"",keywords:l.keywords?l.keywords:l.Keywords,isDownloadable:!0,imgSrc:"https://images-na.ssl-images-amazon.com/images/I/417Y8qz6oXL.png",imgHeight:300}},l.prototype.SelectAll=function(){this.files.forEach(function(l){l.isDownloadable=!0})},l.prototype.DeSelectAll=function(){this.files.forEach(function(l){l.isDownloadable=!1})},l.prototype.EraseAll=function(){var l=this;this.storage.remove("urlData").then(function(){l.files=[]})},l.prototype.generateSources=function(){return s.__awaiter(this,void 0,void 0,function(){var l,n,e,t=this;return s.__generator(this,function(o){switch(o.label){case 0:this.isLoading=!0,this.progress.length=this.files.filter(function(l){return 1==l.isDownloadable}).length,l=function(l){return s.__generator(this,function(e){switch(e.label){case 0:return n.files[l].isDownloadable?[4,n.getLinksFromUrl(n.files[l].url).then(function(n){console.log(l+1+" "+t.files[l].url+" succesfully passed arrays",[t.files[l],n]),t.sources.data.push({url:t.files[l].url,links:t.convertResponseToValidableObject(n,t.files[l].keywords)})}).catch(function(n){console.log(l+1+" "+t.files[l].url+" Catched on Promise",n)})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},n=this,e=0,o.label=1;case 1:return e<this.files.length?[5,l(e)]:[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return this.isLoading=!1,this.progress={value:0,index:1,length:0,status:""},this.evManager.eventManager.emit("LoadSources",this.sources),[2]}})})},l.prototype.convertResponseToValidableObject=function(l,n){for(var e=[],t=0;t<l.data.length;t++)e.push({uri:l.data[t],isDownloadable:this.checkIfDownloadable(l.data[t],n)});return e},l.prototype.checkIfDownloadable=function(l,n){return null!=l.match("/"+n+"/g")},l.prototype.getLinksFromUrl=function(l){return s.__awaiter(this,void 0,void 0,function(){var n=this;return s.__generator(this,function(e){return[2,new Promise(function(e,t){l=l.replace(/\?/g,"%3F"),n.apiService.scrape(l).pipe(Object(c.a)(function(){n.finalizeRequest(l)})).subscribe(function(l){e(l)})})]})})},l.prototype.finalizeRequest=function(l){this.progress.index+=1,this.progress.status="Finished: "+l,this.progress.value=this.progress.index/this.progress.length},l.prototype.round=function(l){return Math.round(l)},l.prototype.showAlert=function(l,n){this.alertController.create({message:n,header:l,buttons:["OK"]}).then(function(l){return l.present()})},l}(),p=e("iw74"),m=e("t/Na"),R=t["\u0275crt"]({encapsulation:0,styles:[[".item-card[_ngcontent-%COMP%]{height:20vh}.item-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{height:5vh}.item-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{height:15vh}.item-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:3vh}.item-card[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{font-size:12px}.item-card[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{height:10vh}.item-card[_ngcontent-%COMP%]   .img-avatar[_ngcontent-%COMP%]{height:4vh;width:4vh}.item-card[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{height:2vh;width:2vh}"]],data:{}});function b(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,33,"ion-row",[],null,null,null,i.eb,i.y)),t["\u0275did"](1,49152,null,0,a.hb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](2,0,null,0,31,"ion-col",[],null,null,null,i.R,i.l)),t["\u0275did"](3,49152,null,0,a.s,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](4,0,null,0,11,"ion-row",[],null,null,null,i.eb,i.y)),t["\u0275did"](5,49152,null,0,a.hb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](6,0,null,0,9,"ion-item",[],null,null,null,i.Y,i.s)),t["\u0275did"](7,49152,null,0,a.G,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](8,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.Z,i.t)),t["\u0275did"](9,49152,null,0,a.M,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{position:[0,"position"]},null),(l()(),t["\u0275ted"](-1,0,["Status"])),(l()(),t["\u0275eld"](11,0,null,0,4,"ion-input",[["disabled",""],["style","margin-top:20px"]],null,[[null,"ionBlur"],[null,"ionChange"]],function(l,n,e){var o=!0;return"ionBlur"===n&&(o=!1!==t["\u0275nov"](l,14)._handleBlurEvent(e.target)&&o),"ionChange"===n&&(o=!1!==t["\u0275nov"](l,14)._handleInputEvent(e.target)&&o),o},i.X,i.r)),t["\u0275prd"](5120,null,r.b,function(l){return[l]},[a.Jb]),t["\u0275did"](13,49152,null,0,a.F,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{disabled:[0,"disabled"]},null),t["\u0275did"](14,16384,null,0,a.Jb,[t.ElementRef],null,null),(l()(),t["\u0275ted"](15,0,["",""])),(l()(),t["\u0275eld"](16,0,null,0,11,"ion-row",[],null,null,null,i.eb,i.y)),t["\u0275did"](17,49152,null,0,a.hb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](18,0,null,0,9,"ion-item",[],null,null,null,i.Y,i.s)),t["\u0275did"](19,49152,null,0,a.G,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](20,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.Z,i.t)),t["\u0275did"](21,49152,null,0,a.M,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{position:[0,"position"]},null),(l()(),t["\u0275ted"](22,0,["Total progress "," % "])),(l()(),t["\u0275eld"](23,0,null,0,4,"ion-input",[["disabled",""],["style","margin-top:20px"]],null,[[null,"ionBlur"],[null,"ionChange"]],function(l,n,e){var o=!0;return"ionBlur"===n&&(o=!1!==t["\u0275nov"](l,26)._handleBlurEvent(e.target)&&o),"ionChange"===n&&(o=!1!==t["\u0275nov"](l,26)._handleInputEvent(e.target)&&o),o},i.X,i.r)),t["\u0275prd"](5120,null,r.b,function(l){return[l]},[a.Jb]),t["\u0275did"](25,49152,null,0,a.F,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{disabled:[0,"disabled"]},null),t["\u0275did"](26,16384,null,0,a.Jb,[t.ElementRef],null,null),(l()(),t["\u0275ted"](27,0,[""," / ",""])),(l()(),t["\u0275eld"](28,0,null,0,5,"ion-row",[],null,null,null,i.eb,i.y)),t["\u0275did"](29,49152,null,0,a.hb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](30,0,null,0,3,"ion-col",[["offset","2"],["size","8"],["style","margin-top:20px"]],null,null,null,i.R,i.l)),t["\u0275did"](31,49152,null,0,a.s,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{offset:[0,"offset"],size:[1,"size"]},null),(l()(),t["\u0275eld"](32,0,null,0,1,"ion-progress-bar",[],null,null,null,i.bb,i.v)),t["\u0275did"](33,49152,null,0,a.X,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{value:[0,"value"]},null)],function(l,n){var e=n.component;l(n,9,0,"floating"),l(n,13,0,""),l(n,21,0,"floating"),l(n,25,0,""),l(n,31,0,"2","8"),l(n,33,0,t["\u0275inlineInterpolate"](1,"",e.progress.value,""))},function(l,n){var e=n.component;l(n,15,0,e.progress.status),l(n,22,0,e.round(100*e.progress.value)),l(n,27,0,e.progress.index,e.progress.length)})}function C(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,25,"ion-card",[["class","item-card"]],null,null,null,i.P,i.f)),t["\u0275did"](1,49152,null,0,a.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](2,0,null,0,5,"ion-card-header",[],null,null,null,i.M,i.h)),t["\u0275did"](3,49152,null,0,a.n,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](4,0,null,0,2,"ion-card-title",[["class","title"]],null,null,null,i.O,i.j)),t["\u0275did"](5,49152,null,0,a.p,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275ted"](6,0,["",". ",""])),(l()(),t["\u0275ted"](7,0,[" "," "])),(l()(),t["\u0275eld"](8,0,null,0,17,"ion-card-content",[["style","margin-top: 25px"]],null,null,null,i.L,i.g)),t["\u0275did"](9,49152,null,0,a.m,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](10,0,null,0,15,"ion-item",[["class","item"]],null,null,null,i.Y,i.s)),t["\u0275did"](11,49152,null,0,a.G,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](12,0,null,0,3,"ion-avatar",[["class","img-avatar"],["slot","start"]],null,null,null,i.H,i.b)),t["\u0275did"](13,49152,null,0,a.f,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](14,0,null,0,1,"ion-img",[],null,null,null,i.W,i.q)),t["\u0275did"](15,49152,null,0,a.C,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{src:[0,"src"]},null),(l()(),t["\u0275eld"](16,0,null,0,2,"ion-label",[["class","content"]],null,null,null,i.Z,i.t)),t["\u0275did"](17,49152,null,0,a.M,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275ted"](18,0,["Url: ",""])),(l()(),t["\u0275eld"](19,0,null,0,6,"ion-checkbox",[["class","checkbox"],["slot","end"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(l,n,e){var o=!0;return"ionBlur"===n&&(o=!1!==t["\u0275nov"](l,21)._handleBlurEvent(e.target)&&o),"ionChange"===n&&(o=!1!==t["\u0275nov"](l,21)._handleIonChange(e.target)&&o),"ngModelChange"===n&&(o=!1!==(l.context.$implicit.isDownloadable=e)&&o),o},i.Q,i.k)),t["\u0275did"](20,49152,null,0,a.q,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),t["\u0275did"](21,16384,null,0,a.c,[t.ElementRef],null,null),t["\u0275prd"](1024,null,r.b,function(l){return[l]},[a.c]),t["\u0275did"](23,671744,null,0,r.e,[[8,null],[8,null],[8,null],[6,r.b]],{model:[0,"model"]},{update:"ngModelChange"}),t["\u0275prd"](2048,null,r.c,null,[r.e]),t["\u0275did"](25,16384,null,0,r.d,[[4,r.c]],null,null)],function(l,n){l(n,15,0,n.context.$implicit.imgSrc),l(n,23,0,n.context.$implicit.isDownloadable)},function(l,n){l(n,6,0,n.context.index+1,n.context.$implicit.name),l(n,7,0,n.context.$implicit.category),l(n,18,0,n.context.$implicit.url),l(n,19,0,t["\u0275nov"](n,25).ngClassUntouched,t["\u0275nov"](n,25).ngClassTouched,t["\u0275nov"](n,25).ngClassPristine,t["\u0275nov"](n,25).ngClassDirty,t["\u0275nov"](n,25).ngClassValid,t["\u0275nov"](n,25).ngClassInvalid,t["\u0275nov"](n,25).ngClassPending)})}function v(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,6,"ion-header",[],null,null,null,i.U,i.o)),t["\u0275did"](1,49152,null,0,a.A,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](2,0,null,0,4,"ion-toolbar",[],null,null,null,i.lb,i.F)),t["\u0275did"](3,49152,null,0,a.Ab,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](4,0,null,0,2,"ion-title",[["class","ion-text-center"]],null,null,null,i.jb,i.D)),t["\u0275did"](5,49152,null,0,a.yb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275ted"](-1,0,[" Obtener Fuentes "])),(l()(),t["\u0275eld"](7,0,null,null,39,"ion-content",[],null,null,null,i.S,i.m)),t["\u0275did"](8,49152,null,0,a.t,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](9,0,null,0,37,"ion-grid",[["style","margin-top: 5%"]],null,null,null,i.T,i.n)),t["\u0275did"](10,49152,null,0,a.z,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](11,0,null,0,16,"ion-row",[],null,null,null,i.eb,i.y)),t["\u0275did"](12,49152,null,0,a.hb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](13,0,null,0,4,"ion-col",[["size","4"]],null,null,null,i.R,i.l)),t["\u0275did"](14,49152,null,0,a.s,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{size:[0,"size"]},null),(l()(),t["\u0275eld"](15,0,null,0,2,"ion-button",[["expand","block"],["shape","round"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.SelectAll()&&t),t},i.J,i.d)),t["\u0275did"](16,49152,null,0,a.j,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{expand:[0,"expand"],shape:[1,"shape"]},null),(l()(),t["\u0275ted"](-1,0,["Seleccionar todo"])),(l()(),t["\u0275eld"](18,0,null,0,4,"ion-col",[["size","4"]],null,null,null,i.R,i.l)),t["\u0275did"](19,49152,null,0,a.s,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{size:[0,"size"]},null),(l()(),t["\u0275eld"](20,0,null,0,2,"ion-button",[["expand","block"],["shape","round"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.DeSelectAll()&&t),t},i.J,i.d)),t["\u0275did"](21,49152,null,0,a.j,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{expand:[0,"expand"],shape:[1,"shape"]},null),(l()(),t["\u0275ted"](-1,0,["Deseleccionar todo"])),(l()(),t["\u0275eld"](23,0,null,0,4,"ion-col",[["size","4"]],null,null,null,i.R,i.l)),t["\u0275did"](24,49152,null,0,a.s,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{size:[0,"size"]},null),(l()(),t["\u0275eld"](25,0,null,0,2,"ion-button",[["expand","block"],["shape","round"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.EraseAll()&&t),t},i.J,i.d)),t["\u0275did"](26,49152,null,0,a.j,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{expand:[0,"expand"],shape:[1,"shape"]},null),(l()(),t["\u0275ted"](-1,0,["Eliminar Fuentes"])),(l()(),t["\u0275and"](16777216,null,0,1,null,b)),t["\u0275did"](29,16384,null,0,d.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),t["\u0275eld"](30,0,null,0,9,"ion-row",[],null,null,null,i.eb,i.y)),t["\u0275did"](31,49152,null,0,a.hb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](32,0,null,0,7,"ion-col",[],null,null,null,i.R,i.l)),t["\u0275did"](33,49152,null,0,a.s,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](34,0,null,0,5,"ion-card",[["class","scrollable-div"]],null,null,null,i.P,i.f)),t["\u0275did"](35,49152,null,0,a.l,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](36,0,null,0,3,"ion-card-content",[],null,null,null,i.L,i.g)),t["\u0275did"](37,49152,null,0,a.m,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275and"](16777216,null,0,1,null,C)),t["\u0275did"](39,278528,null,0,d.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),t["\u0275eld"](40,0,null,0,6,"ion-row",[],null,null,null,i.eb,i.y)),t["\u0275did"](41,49152,null,0,a.hb,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],null,null),(l()(),t["\u0275eld"](42,0,null,0,4,"ion-col",[["offset","4"],["size","4"]],null,null,null,i.R,i.l)),t["\u0275did"](43,49152,null,0,a.s,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{offset:[0,"offset"],size:[1,"size"]},null),(l()(),t["\u0275eld"](44,0,null,0,2,"ion-button",[["expand","block"],["shape","round"],["style","margin-top: 10%;"]],null,[[null,"click"]],function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.generateSources()&&t),t},i.J,i.d)),t["\u0275did"](45,49152,null,0,a.j,[t.ChangeDetectorRef,t.ElementRef,t.NgZone],{expand:[0,"expand"],shape:[1,"shape"]},null),(l()(),t["\u0275ted"](-1,0,["Generar Fuentes"]))],function(l,n){var e=n.component;l(n,14,0,"4"),l(n,16,0,"block","round"),l(n,19,0,"4"),l(n,21,0,"block","round"),l(n,24,0,"4"),l(n,26,0,"block","round"),l(n,29,0,e.isLoading),l(n,39,0,e.files),l(n,43,0,"4","4"),l(n,45,0,"block","round")},null)}function D(l){return t["\u0275vid"](0,[(l()(),t["\u0275eld"](0,0,null,null,1,"app-tab3",[],null,null,null,v,R)),t["\u0275did"](1,114688,null,0,h,[p.b,m.c,a.a,g.a,a.Eb,f.a],null,null)],function(l,n){l(n,1,0)},null)}var E=t["\u0275ccf"]("app-tab3",h,D,{},{},[]),N=e("ZYCi");e.d(n,"Tab3PageModuleNgFactory",function(){return Z});var Z=t["\u0275cmf"](o,[],function(l){return t["\u0275mod"]([t["\u0275mpd"](512,t.ComponentFactoryResolver,t["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,E]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["\u0275mpd"](4608,d.NgLocalization,d.NgLocaleLocalization,[t.LOCALE_ID,[2,d["\u0275angular_packages_common_common_a"]]]),t["\u0275mpd"](4608,a.b,a.b,[t.NgZone,t.ApplicationRef]),t["\u0275mpd"](4608,a.Fb,a.Fb,[a.b,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,a.Ib,a.Ib,[a.b,t.ComponentFactoryResolver,t.Injector]),t["\u0275mpd"](4608,r.g,r.g,[]),t["\u0275mpd"](1073742336,d.CommonModule,d.CommonModule,[]),t["\u0275mpd"](1073742336,a.Cb,a.Cb,[]),t["\u0275mpd"](1073742336,r.f,r.f,[]),t["\u0275mpd"](1073742336,r.a,r.a,[]),t["\u0275mpd"](1073742336,N.n,N.n,[[2,N.s],[2,N.m]]),t["\u0275mpd"](1073742336,o,o,[]),t["\u0275mpd"](1024,N.k,function(){return[[{path:"",component:h}]]},[])])})}}]);